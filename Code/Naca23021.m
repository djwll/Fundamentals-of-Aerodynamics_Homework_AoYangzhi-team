%% 根据dat文件画出翼型
x = [1,0.95,0.9,0.8,0.7,0.6,...
    0.5,0.4,0.3,0.25,0.2,...
    0.15,0.1,0.075,0.05,0.025,0.0125,0,...
    0.0125,0.025,0.05,0.075,0.1,0.15,0.2,0.25,0.3,0.4,0.5,0.6,...
    0.7,0.8,0.9,0.95,1.0];
y = [0.0022,0.0153,0.0276,0.0505,0.0709,0.0890,0.1040,0.1149,...
    0.1206,0.1205,0.1180,0.1119,0.1003,0.0913,0.0793,0.0641,...
    0.0487,0,-0.0208,-0.0314,-0.0452,-0.0555,-0.0632,-0.0751,...
    -0.0830,-0.0876,-0.0895,-0.0883,-0.0814,-0.0707,-0.0572,-0.0413,...
    -0.0230,-0.0130,-0.0022];
length(x);
length(y);
figure(1)
scatter(x,y,'magenta')
axis([0 1 -0.2 0.2])
figure(2)
plot(x,y,'-o')
axis([0 1 -0.2 0.2])
%% 根据PPT上的公式进行画图
k1 = 15.957;
m = 0.2025;
x1 = [0:0.01:m];
x2 = [m:0.01:1];
y1 = k1/6*(x1.^3-3*m*x1.^2+m^2*(3-m)*x1);
y2 = k1*m^3/6*(1-x2);

plot(x1,y1)
hold on 
plot(x2,y2)
axis([0 1 -0.1 0.1])
hold off

%% 先考虑上半部分
x = [1,0.95,0.9,0.8,0.7,0.6,...
    0.5,0.4,0.3,0.25,0.2,...
    0.15,0.1,0.075,0.05,0.025,0.0125,0];
y = [0.0022,0.0153,0.0276,0.0505,0.0709,0.0890,0.1040,0.1149,...
    0.1206,0.1205,0.1180,0.1119,0.1003,0.0913,0.0793,0.0641,...
    0.0487,0];

% 找出控制点
x_control = []
y_control = []
for i = 1:1:length(x)-1
    x_control(end + 1)=(x(i)+x(i+1))/2;
    y_control(end + 1)=(y(i)+y(i+1))/2;
end
figure(1)
plot(x,y,'-o')
axis([0 1 -0.2 0.2])
hold on 
scatter(x_control,y_control,'red','*')
hold off

%% 从txt文件中读取x，y
clc
a = load("NACA23021.dat")
x = a(1:18,1)
y = a(1:18,2)
figure(1)
plot(x,y,'-o')
axis([0 1 -0.2 0.2])
